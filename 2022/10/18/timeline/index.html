<!DOCTYPE html>
<html lang=zh-CN>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta property="og:description" content="The hymn of mankind is the hymn of courage, and the greatness of mankind is the greatness of courage.">
    <meta property="og:type" content="website">
    <meta name="description" content="The hymn of mankind is the hymn of courage, and the greatness of mankind is the greatness of courage.">
    <meta name="keyword"  content="hexo,全栈开发,zhaoyule">
    <link rel="shortcut icon" href="/img/favicon.ico">

    <title>
        
        timeline - Courage Love Exploring
        
    </title>

    <!-- Custom CSS -->
    
<link rel="stylesheet" href="/css/aircloud.css">

    
<link rel="stylesheet" href="/css/gitment.css">

    <!--<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">-->
    <link href="//at.alicdn.com/t/font_620856_28hi1hpxx24.css" rel="stylesheet" type="text/css">
    <!-- ga & ba script hoook -->
    
        <!-- d3js -->
        <script src="https://d3js.org/d3.v6.min.js"></script>

    
    <script></script>
<meta name="generator" content="Hexo 6.2.0"></head>

<body>

<div class="site-nav-toggle" id="site-nav-toggle">
    <button>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
    </button>
</div>

<div class="index-about">
    <i> The hymn of mankind is the hymn of courage, and the greatness of mankind is the greatness of courage. </i>
</div>

<div class="index-container">
    
    <div class="index-left">
        
<div class="nav" id="nav">
    <div class="avatar-name">
        <div class="avatar ">
            <img src="/img/avatar.jpg" />
        </div>
        <div class="name">
            <i>YuLeo Zhao</i>
        </div>
    </div>
    <div class="contents" id="nav-content">
        <ul>
            <li >
                <a href="/">
                    <i class="iconfont icon-shouye1"></i>
                    <span>主页</span>
                </a>
            </li>
            <li >
                <a href="/tags">
                    <i class="iconfont icon-biaoqian1"></i>
                    <span>标签</span>
                </a>
            </li>
            <li >
                <a href="/archives">
                    <i class="iconfont icon-guidang2"></i>
                    <span>存档</span>
                </a>
            </li>
            <li >
                <a href="/collect/">
                    <i class="iconfont icon-shoucang1"></i>
                    <span>收藏</span>
                </a>
            </li>
            <li >
                <a href="/about/">
                    <i class="iconfont icon-guanyu2"></i>
                    <span>关于</span>
                </a>
            </li>
            
            <li>
                <a id="search">
                    <i class="iconfont icon-sousuo1"></i>
                    <span>搜索</span>
                </a>
            </li>
            
        </ul>
    </div>
    
        <div id="toc" class="toc-article">
    
</div>
    
</div>


<div class="search-field" id="search-field">
    <div class="search-bg" id="search-bg"></div>
    <div class="search-container">
        <div class="search-input">
            <span id="esc-search"> <i class="icon-fanhui iconfont"></i></span>
            <input id="search-input"/>
            <span id="begin-search">搜索</span>
        </div>
        <div class="search-result-container" id="search-result-container">

        </div>
    </div>
</div>

        <div class="index-about-mobile">
            <i> The hymn of mankind is the hymn of courage, and the greatness of mankind is the greatness of courage. </i>
        </div>
    </div>
    
    <div class="index-middle">
        <!-- Main Content -->
        


<div class="post-container">
    <div class="post-title">
        timeline
    </div>

    <div class="post-meta">
        <span class="attr">发布于：<span>2022-10-18 00:32:49</span></span>
        
        </span>
        <span class="attr">访问：<span id="busuanzi_value_page_pv"></span>
</span>
</span>
    </div>
    <div class="post-content no-indent">
        <div class="wrap">
  <div class="button-container">
    <form id="sorted">
      <div class="button-title">Sort by</div>
      <div class="button-content">
        <label><input type="radio" name="sort" value="startDate" checked>  start date </label>
        <label><input type="radio" name="sort" value="endDate">  end date </label>
        <label><input type="radio" name="sort" value="timespanInDays"> duration </label>
      </div>
      <div class="button-description">Start / end date of the chronologically first / last interval; cumulative duration of all intervals of an item</div>
    </form>
  </div>
  <div class="button-container">
    <form id="reorder">
      <div class="button-title">In the following order</div>
      <div class="button-content">
        <label><input type="radio" name="order" value="ascending" checked> ascending </label>
        <label><input type="radio" name="order" value="descending"> descending </label>
      </div>
      <div class="button-description">Visually from top to bottom</div>
    </form>
  </div>
  <div id="reading-timeline">
  </div>
</div>

<style>
.button-container {
  margin-bottom: 17px;
}

.button-title {
  font: 700 0.9rem sans-serif;
  margin-bottom: 3px;
}

.button-content {
  display: inline-block;
  margin: 5px 10px 3px 0;
  font-size: 0.85em;
}

.button-description {
  font-size: 0.85rem;
  font-style: italic;
  margin-top: 3px;
}

.tick line {
  stroke: currentColor;
}

.tick text {
  fill: currentColor;
  text-anchor: middle;
}

.tick text,
.interval text {
  font-family: sans-serif;
  font-size: 10px;
}

.interval line {
  stroke-width: 2;
}

.guide-line {
  stroke: #efefef;
}

.subinterval {
  stroke: #000000;
}

.interval text,
.interval a[href] text {
  fill: #808080;
}

.interval a[href] .hoverable-area {
  fill: #ffffff; /* has to be white, not 'none' */
}

.interval a[href]:hover {
  text-decoration: none;
}

.interval a[href]:hover text {
  fill: #3182bd;
}

.interval a[href]:hover .guide-line {
  stroke: #f3f8fb;
}

.interval a[href]:hover .subinterval {
  stroke: #3182bd;
}
</style>

<script>
if ('d3' in window) {

// plain objects containing string literals, including arrays (of plain objects containing string literals)
literals = [
  {
    name: "Karl Marx (died aged 59)",
    startDate: "1818-05-05",
    endDate: "1883-03-14",
    url: "https://zh.m.wikipedia.org/wiki/卡尔·马克思"
  },
  {
    name: "Фёдор Михайлович Достоевский (died aged 64)",
    startDate: "1821-11-11",
    endDate: "1881-02-09",
    url: "https://zh.m.wikipedia.org/wiki/费奥多尔·陀思妥耶夫斯基"
  },
  {
    name: "Лев Николаевич Толстой (died aged 82)",
    startDate: "1828-09-09",
    endDate: "1910-11-20",
    url: "https://zh.m.wikipedia.org/wiki/列夫·托爾斯泰"
  },
  {
    name: "Sigmund Freud Lifetime (died aged 83)",
    startDate: "1856-05-06",
    endDate: "1939-09-23",
    url: "https://zh.wikipedia.org/wiki/西格蒙德·弗洛伊德"
  },
  {
    name: "Alfred Adler Lifetime (died aged 67)",
    startDate: "1870-02-07",
    endDate: "1937-05-28",
    url: "https://zh.wikipedia.org/wiki/阿尔弗雷德·阿德勒"
  },
  {
    name: "Die Traumdeutung",
    startDate: "1899-01-01",
    endDate: "1899-11-30",
    url: "https://zh.wikipedia.org/wiki/夢的解析"
  },
  {
    name: "World War I",
    startDate: "1914-07-28",
    endDate: "1918-11-11",
    url: "https://zh.wikipedia.org/wiki/第一次世界大战"
  },
  {
    name: "World War II",
    startDate: "1931-01-01",
    endDate: "1945-09-02",
    url: "https://zh.wikipedia.org/wiki/第二次世界大战"
  },
  {
    name: "鲁迅 Lifetime (died aged 55)",
    startDate: "1881-09-25",
    endDate: "1936-10-19",
    url: "https://zh.wikipedia.org/wiki/鲁迅"
  },
  {
    name: "芥川 龍之介 Lifetime (died aged 35)",
    startDate: "1892-03-01",
    endDate: "1927-07-24",
    url: "https://zh.wikipedia.org/wiki/芥川龙之介"
  },
  {
    name: "George Smith Patton, Jr. Lifetime (died aged 60)",
    startDate: "1885-11-11",
    endDate: "1945-12-21",
    url: "https://zh.wikipedia.org/wiki/乔治·巴顿"
  },
  {
    name: "Richard P. Feynman Lifetime (died aged 70)",
    startDate: "1918-05-11",
    endDate: "1988-02-15",
    url: "https://zh.wikipedia.org/wiki/理查德·費曼"
  },
  {
    name: "Vietnam War",
    startDate: "1955-01-01", //
    endDate: "1975-12-30", //
    url: "https://zh.wikipedia.org/wiki/越南战争"
  },
  {
    name: "Alan Mathison Turing Lifetime (died aged 41)",
    startDate: "1912-06-23", //
    endDate: "1954-06-07", //
    url: "https://zh.wikipedia.org/wiki/艾伦·图灵"
  },
  {
    name: "John von Neumann Lifetime (died aged 53)",
    startDate: "1903-12-28", //
    endDate: "1957-02-08", //
    url: "https://zh.wikipedia.org/wiki/约翰·冯·诺伊曼"
  },
  {
    name: "Virginia Woolf Lifetime (died aged 59)",
    startDate: "1882-01-25", //
    endDate: "1941-03-28", //
    url: "https://zh.wikipedia.org/wiki/弗吉尼亚·吴尔夫"
  },
  {
    name: "Simone de Beauvoir Lifetime (died aged 78)",
    startDate: "1908-01-09", //
    endDate: "1986-04-14", //
    url: "https://zh.wikipedia.org/wiki/西蒙·德·波娃"
  },
  {
    name: "Le Deuxième Sexe",
    startDate: "1949-01-01",
    endDate: "1949-12-30",
    url: "https://zh.wikipedia.org/wiki/第二性"
  },
  {
    name: "Stephen Jay Gould  Lifetime (died aged 61)", //
    startDate: "1941-09-10",
    endDate: "2002-05-20",
    url: "https://zh.wikipedia.org/wiki/史蒂芬·古爾德"
  },
  {
    name: "Das Kapital: Kritik der politischen Ökonomie",
    subintervals: [
      {
        startDate: "1867", //
        endDate: "1867-12-31" // approximated
      },
      {
        startDate: "1885",
        endDate: "1885-12-31" // approximated
      },
      {
        startDate: "1894",
        endDate: "1894-12-31" // approximated
      },
      {
        startDate: "1938",
        endDate: "1938-12-31" // approximated
      },
    ],
    url: "https://zh.wikipedia.org/wiki/资本论"
  }
]

parseInterval = (interval) => {
  return {
    startDate: d3.isoParse(interval.startDate),
    endDate: d3.isoParse(interval.endDate)
  }
}

createSubintervals = (literal) => {
  if (literal.subintervals !== undefined) {
    return literal.subintervals.map(parseInterval);
  }

  return [parseInterval(literal)];
}

getTimespanInDays = (subintervals) => d3.sum(subintervals, d => d3.utcDay.count(d.startDate, d.endDate))

createInterval = (literal) => {
  const interval = {
    name: literal.name
  };

  interval.subintervals = createSubintervals(literal);
  interval.startDate = d3.min(interval.subintervals, d => d.startDate);
  interval.endDate = d3.max(interval.subintervals, d => d.endDate);
  interval.timespanInDays = getTimespanInDays(interval.subintervals);

  if (literal.url !== undefined) {
    interval.url = literal.url;
  }

  return interval;
}

intervals = literals.map(createInterval)

order = document.querySelector('input[name="order"]:checked').value;
sortBy = document.querySelector('input[name="sort"]:checked').value;

d3.selectAll("input").on("change", function() {
    order = document.querySelector('input[name="order"]:checked').value;
    sortBy = document.querySelector('input[name="sort"]:checked').value;
    sortedIntervals = intervals.slice()
      .sort((a, b) => d3[order](a[sortBy], b[sortBy]));
    svg.selectAll("*").remove()
    redraw(sortedIntervals)
    console.log(this.value, this.name)
});

sortedIntervals = intervals.slice()
  .sort((a, b) => d3[order](a[sortBy], b[sortBy]));

width = document.getElementById('reading-timeline').offsetWidth;

createCanvas = () =>
  d3.select("#reading-timeline")
    .append("svg")
    .attr("class", "timeline")
    .attr("width", width)
    .attr("height", height)

margin = {top: 30, right: 0, bottom: 10, left: 0}
intervalHeight = 20

height = margin.top + (intervals.length * intervalHeight) + margin.bottom;

addHorizontalAxis = (parent) =>
  parent.append("g")
    .attr("class", "x-axis")
    .attr("transform", `translate(0,${margin.top})`)
    .call(d3.axisTop(scale))
    .call(cleanAxis);

range = [margin.left, width - (margin.left + margin.right)]

domain = [
   d3.min(intervals, d => d.startDate),
   d3.max(intervals, d => d.endDate)
 ]

 scale = d3.scaleTime()
   .range(range)
   .domain(domain)

 cleanAxis = (container) => {
   const attributes = [
     "fill",
     "font-family",
     "font-size",
     "text-anchor"
   ];

   attributes.forEach(d => container.attr(d, null));

   container.select(".domain")
     .remove();

   container.selectAll(".tick")
     .attr("opacity", null);

   container.selectAll(".tick line")
     .attr("stroke", null);

   container.selectAll(".tick text")
     .attr("fill", null);
 }

 addIntervals = (parent, intervals) => {
   const container = parent.append("g")
     .attr("class", "intervals")
     .attr("transform", `translate(0,${margin.top + 15})`);

   intervals.forEach((interval, index) => addInterval(container, interval, index));
 }

addInterval = (parent, interval, index) => {
  let container = parent.append("g")
    .attr("class", "interval");

  const startPoint = {
    x: scale(interval.startDate),
    y: intervalHeight * index
  };

  const endPoint = {
    x: scale(interval.endDate),
    y: startPoint.y
  };

  if (interval.url) {
    container = container.append("a")
      .attr("href", interval.url)
      .attr("target", "_blank"); // hangs in the notebook's iframe otherwise

    const intervalWidth = endPoint.x - startPoint.x;
    container.append("rect")
      .attr("class", "hoverable-area")
      .attr("x", startPoint.x)
      .attr("y", startPoint.y)
      .attr("width", intervalWidth)
      .attr("height", intervalHeight);
  }

  addSubintervals(container, startPoint, endPoint, interval.subintervals);
  addText(container, startPoint, endPoint, interval.name);
}

addSubintervals = (parent, startPoint, endPoint, subintervals) => {
  if (subintervals.length > 1) {
    parent.append("line")
      .attr("class", "guide-line") // bridges interval gaps
      .attr("x1", startPoint.x)
      .attr("y1", startPoint.y)
      .attr("x2", endPoint.x)
      .attr("y2", endPoint.y);
  }

  subintervals.forEach(subinterval => {
    parent.append("line")
      .attr("class", "subinterval")
      .attr("x1", scale(subinterval.startDate))
      .attr("y1", startPoint.y)
      .attr("x2", scale(subinterval.endDate))
      .attr("y2", endPoint.y);
  });

  addText = (parent, startPoint, endPoint, text) => {
    const remainingPlaneWidth = range[1] - startPoint.x;
    const textWidth = measureWidth(text);
    if (textWidth <= remainingPlaneWidth) {
      parent.append("text")
        .attr("x", startPoint.x)
        .attr("y", startPoint.y + 10)
        .attr("text-anchor", "start")
        .text(text);
    } else {
      parent.append("text")
        .attr("x", endPoint.x)
        .attr("y", endPoint.y + 10)
        .attr("text-anchor", "end")
        .text(text);
    }
  }

measureWidth = (text) => {
  const context = document.createElement("canvas")
    .getContext("2d");

  // '10px sans-serif' as default font
  return context.measureText(text).width;
}

}

svg = createCanvas()

redraw = (data) =>
  svg
   .call(addHorizontalAxis)
   .call(addIntervals, data)
   .node()

redraw(sortedIntervals)

}

</script>

        
        <br />
        <div id="comment-container">
        </div>
        <div id="disqus_thread"></div>
        <div id="lv-container"></div>
        <div class="giscus"></div>
    </div>
</div>

    </div>
</div>


<footer class="footer">
    <ul class="list-inline text-center">
        
        

        

        

        
        <li>
            <a target="_blank"  href="https://github.com/ZhaoYuLeo">
                            <span class="fa-stack fa-lg">
                                <i class="iconfont icon-github"></i>
                            </span>
            </a>
        </li>
        

        

    </ul>
    
    <p>
        <span id="busuanzi_container_site_pv">
            <span id="busuanzi_value_site_pv"></span>PV
        </span>
        <span id="busuanzi_container_site_uv">
            <span id="busuanzi_value_site_uv"></span>UV
        </span>
        Created By <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>  Theme <a target="_blank" rel="noopener" href="https://github.com/aircloud/hexo-theme-aircloud">AirCloud</a></p>
</footer>




</body>

<script>
    // We expose some of the variables needed by the front end
    window.hexo_search_path = "search.json"
    window.hexo_root = "/"
    window.isPost = true
</script>
<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>

<script src="/js/index.js"></script>

<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>




    <script src="https://giscus.app/client.js"
    data-repo="ZhaoYuLeo/zhaoyuleo.github.io"
    data-repo-id="R_kgDOHbUt7Q"
    data-category="Announcements"
    data-category-id="DIC_kwDOHbUt7c4CPZ5F"
    data-mapping="title"
    data-reactions-enabled="1"
    data-emit-metadata="0"
    data-input-position="bottom"
    data-theme="light"
    data-lang="zh-CN"
    crossorigin="anonymous"
    async>
</script>




</html>
